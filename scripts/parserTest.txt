# boilerplate
clear
if [[ ! "${DEBUGDIR}" ]]; then
    export DEBUGDIR=~/debug;
fi

# main part
APP=eyr
mkdir -p $DEBUGDIR/$APP
gcc -g3 --std=c2x -o $DEBUGDIR/$APP/parserTest \
-Wreturn-type -Wunused-variable -Wshadow -Wfatal-errors \
-Werror=implicit-function-declaration -Werror=int-conversion -Werror=implicit-int \
-Werror=incompatible-pointer-types \
-iquote src -iquote test \
test/parserTest.c src/$APP.c \
-DPARSER_TEST -DTEST -DDEBUG -DSAFETY -DTRACE \
-lm && $DEBUGDIR/$APP/parserTest
