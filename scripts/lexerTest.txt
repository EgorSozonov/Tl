# boilerplate
clear
if [[ ! "${DEBUGDIR}" ]]; then
    export DEBUGDIR=~/debug;
fi

# main part
APP=eyr
mkdir -p $DEBUGDIR/$APP
gcc -g3 --std=c17 -Wpedantic -Wreturn-type -Wunused-variable -Wshadow -Wfatal-errors \
-Werror=implicit-function-declaration -Werror=incompatible-pointer-types \
-Werror=int-conversion \
-I src -I test \
-o $DEBUGDIR/$APP/lexerTest \
-DLEXER_TEST -DTEST -DDEBUG -DSAFETY \
test/lexerTest.c src/$APP.c -lm &&
$DEBUGDIR/$APP/lexerTest \
#-fstrict-flex-arrays=3 -Wsuggest-attribute=pure -Wsuggest-attribute=const\
#-Wsuggest-attribute=malloc -iquote src -iquote test 
